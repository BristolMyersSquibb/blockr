<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Wrangling Blocks – blockr</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-4e21fdc0903150a3e35545abccb249d1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="https://bristolmyerssquibb.github.io/blockr/">
    <span class="navbar-title">blockr</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../getting-started.html"> 
<span class="menu-text">Get Started</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-showcase" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Showcase</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-showcase">    
        <li>
    <a class="dropdown-item" href="../showcase/dplyr.html">
 <span class="dropdown-text">Data Wrangling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../showcase/ggplot.html">
 <span class="dropdown-text">Data Visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../showcase/io.html">
 <span class="dropdown-text">File I/O</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/BristolMyersSquibb/blockr"> <i class="bi bi-github" role="img" aria-label="blockr GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../showcase/dplyr.html">Blocks</a></li><li class="breadcrumb-item"><a href="../showcase/dplyr.html">Data Wrangling Blocks</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Getting Started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../getting-started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../working-with-blockr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Working with blockr</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Blocks</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../showcase/dplyr.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Data Wrangling Blocks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../showcase/ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Visualization Blocks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../showcase/io.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">File I/O Blocks</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Core Packages</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://bristolmyerssquibb.github.io/blockr.core/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">blockr.core</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://bristolmyerssquibb.github.io/blockr.dplyr/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">blockr.dplyr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://bristolmyerssquibb.github.io/blockr.ggplot/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">blockr.ggplot</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://bristolmyerssquibb.github.io/blockr.ui/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">blockr.ui</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://bristolmyerssquibb.github.io/blockr.io/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">blockr.io</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#select-block" id="toc-select-block" class="nav-link" data-scroll-target="#select-block">Select Block</a></li>
  <li><a href="#filter-block" id="toc-filter-block" class="nav-link" data-scroll-target="#filter-block">Filter Block</a></li>
  <li><a href="#filter-expression-block" id="toc-filter-expression-block" class="nav-link" data-scroll-target="#filter-expression-block">Filter Expression Block</a></li>
  <li><a href="#arrange-block" id="toc-arrange-block" class="nav-link" data-scroll-target="#arrange-block">Arrange Block</a></li>
  <li><a href="#slice-block" id="toc-slice-block" class="nav-link" data-scroll-target="#slice-block">Slice Block</a></li>
  <li><a href="#mutate-expression-block" id="toc-mutate-expression-block" class="nav-link" data-scroll-target="#mutate-expression-block">Mutate Expression Block</a></li>
  <li><a href="#rename-block" id="toc-rename-block" class="nav-link" data-scroll-target="#rename-block">Rename Block</a></li>
  <li><a href="#summarize-block" id="toc-summarize-block" class="nav-link" data-scroll-target="#summarize-block">Summarize Block</a></li>
  <li><a href="#summarize-expression-block" id="toc-summarize-expression-block" class="nav-link" data-scroll-target="#summarize-expression-block">Summarize Expression Block</a></li>
  <li><a href="#join-block" id="toc-join-block" class="nav-link" data-scroll-target="#join-block">Join Block</a></li>
  <li><a href="#bind-rows-block" id="toc-bind-rows-block" class="nav-link" data-scroll-target="#bind-rows-block">Bind Rows Block</a></li>
  <li><a href="#bind-columns-block" id="toc-bind-columns-block" class="nav-link" data-scroll-target="#bind-columns-block">Bind Columns Block</a></li>
  <li><a href="#tidyr-blocks" id="toc-tidyr-blocks" class="nav-link" data-scroll-target="#tidyr-blocks">tidyr Blocks</a>
  <ul class="collapse">
  <li><a href="#pivot-longer-block" id="toc-pivot-longer-block" class="nav-link" data-scroll-target="#pivot-longer-block">Pivot Longer Block</a></li>
  <li><a href="#pivot-wider-block" id="toc-pivot-wider-block" class="nav-link" data-scroll-target="#pivot-wider-block">Pivot Wider Block</a></li>
  <li><a href="#separate-block" id="toc-separate-block" class="nav-link" data-scroll-target="#separate-block">Separate Block</a></li>
  <li><a href="#unite-block" id="toc-unite-block" class="nav-link" data-scroll-target="#unite-block">Unite Block</a></li>
  <li><a href="#building-data-pipelines" id="toc-building-data-pipelines" class="nav-link" data-scroll-target="#building-data-pipelines">Building Data Pipelines</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../showcase/dplyr.html">Blocks</a></li><li class="breadcrumb-item"><a href="../showcase/dplyr.html">Data Wrangling Blocks</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Data Wrangling Blocks</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>blockr.dplyr provides interactive blocks for data wrangling. Each block offers a user interface for a specific data transformation task. Blocks can be connected together to create data transformation pipelines.</p>
<p>This package includes blocks for common dplyr operations (select, filter, arrange, mutate, summarize, join, bind) and tidyr operations (pivot, separate, unite).</p>
<hr>
</section>
<section id="select-block" class="level2">
<h2 class="anchored" data-anchor-id="select-block">Select Block</h2>
<p>The select block chooses which columns to keep in your dataset.</p>
<p>Use the column selector to pick the columns you want. You can select multiple columns and reorder them by dragging. The order of selection determines the column order in the output.</p>
<p>The block includes a “distinct” option. When enabled, duplicate rows are removed from the result, keeping only unique combinations of the selected columns.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/select-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Select block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="filter-block" class="level2">
<h2 class="anchored" data-anchor-id="filter-block">Filter Block</h2>
<p>The filter block filters rows by selecting values from dropdown lists. This provides a point-and-click interface that does not require writing expressions. Use this block when you want to visually select which values to include or exclude, especially for categorical columns.</p>
<p>For each filter condition, select a column from the dropdown. The interface displays all unique values in that column. Select one or more values to filter by. Choose between “include” mode (keep only rows with selected values) or “exclude” mode (remove rows with selected values).</p>
<p>Add multiple conditions using the “+ Add Condition” button. Each condition can be combined with the previous one using AND (all conditions must be true) or OR (at least one condition must be true) logic. The “Preserve selection order” option maintains the order of selected values in the output.</p>
<p>For more elaborate filter conditions using comparisons or calculations, use the filter expression block instead.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/filter-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Filter block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="filter-expression-block" class="level2">
<h2 class="anchored" data-anchor-id="filter-expression-block">Filter Expression Block</h2>
<p>The filter expression block keeps only rows that meet specific conditions using R expressions. Use this block for more elaborate filtering that cannot be achieved with simple value selection, such as numeric comparisons, calculations, or complex logical conditions.</p>
<p>Supported operators include <code>&gt;</code>, <code>&lt;</code>, <code>==</code>, <code>!=</code>, <code>&gt;=</code>, <code>&lt;=</code> for comparisons, and <code>%in%</code> for checking membership in a set of values. Combine multiple conditions using <code>&amp;</code> (AND) to require all conditions to be true, or <code>|</code> (OR) to require at least one condition to be true. The expression editor provides syntax highlighting and validates your expressions. Examples: <code>mpg &gt; 20</code>, <code>cyl == 4 | cyl == 6</code>, <code>hp &gt; 100 &amp; wt &lt; 3</code>.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/filter-expr-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Filter expression block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="arrange-block" class="level2">
<h2 class="anchored" data-anchor-id="arrange-block">Arrange Block</h2>
<p>The arrange block sorts rows by column values. Select one or more columns to sort by, with each column having its own ascending or descending control.</p>
<p>When sorting by multiple columns, the order matters. The first column is the primary sort key. Rows with the same value in the first column are then sorted by the second column, and so on. Use the drag handles to reorder the sort columns.</p>
<p>Add columns using the “+” button and remove them using the “×” button. Toggle between ascending and descending order for each column independently.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/arrange-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Arrange block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="slice-block" class="level2">
<h2 class="anchored" data-anchor-id="slice-block">Slice Block</h2>
<p>The slice block selects specific rows based on different criteria. Choose from six slice types: head (first rows), tail (last rows), min (rows with smallest values), max (rows with largest values), sample (random selection), or custom (specific positions).</p>
<p>For head and tail types, specify the number of rows using n (count) or prop (proportion between 0 and 1). For min and max types, select an order_by column and enable with_ties if you want to include all rows with tied values. For sample type, optionally select a weight_by column for weighted sampling and enable replace for sampling with replacement.</p>
<p>The custom type accepts a rows expression like “1:5” or “c(1, 3, 5, 10)”. All slice types support grouping via the by parameter, which performs the slice operation within each group separately.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/slice-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Slice block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="mutate-expression-block" class="level2">
<h2 class="anchored" data-anchor-id="mutate-expression-block">Mutate Expression Block</h2>
<p>The mutate expression block creates new columns or modifies existing ones using R expressions. Add multiple expressions, each creating or updating a column. Each expression consists of a column name and an R expression that calculates its value.</p>
<p>Use mathematical operators (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>^</code>) and functions (<code>sqrt()</code>, <code>log()</code>, <code>round()</code>, etc.) in your expressions. Reference existing columns by name. You can also use conditional logic with <code>ifelse()</code> or <code>dplyr::case_when()</code>.</p>
<p>Expression order matters: later expressions can reference columns created by earlier expressions in the same mutate block. The by parameter allows grouping, making column references operate within each group. Add expressions with the “+ Add Expression” button and remove them with the “×” button.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/mutate-expr-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Mutate expression block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="rename-block" class="level2">
<h2 class="anchored" data-anchor-id="rename-block">Rename Block</h2>
<p>The rename block changes column names. Each rename operation maps a new name to an existing column. The interface shows the mapping as “new_name ← old_name” with a visual arrow indicator.</p>
<p>Select the existing column from a dropdown to ensure valid column names. Type the new name in the text field. Add multiple renames using the “+” button to rename several columns at once. Remove a rename operation with the “×” button.</p>
<p>The block validates that you don’t rename the same column twice and ensures column names don’t conflict with existing names.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/rename-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Rename block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="summarize-block" class="level2">
<h2 class="anchored" data-anchor-id="summarize-block">Summarize Block</h2>
<p>The summarize block calculates summary statistics using a point-and-click interface. Each summary consists of three parts: a name for the new column, an aggregation function selected from a dropdown, and the column to aggregate.</p>
<p>Available aggregation functions include mean, sum, minimum, maximum, count, count distinct, median, standard deviation, and more. Select the function from the dropdown and the column to apply it to.</p>
<p>Use the “Columns to group by” selector to group data before summarizing. When grouping is enabled, statistics are calculated separately for each group. Add multiple summaries using the “+ Add Summary” button.</p>
<p>For more complex aggregations using custom R expressions, use the summarize expression block instead.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/summarize-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Summarize block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="summarize-expression-block" class="level2">
<h2 class="anchored" data-anchor-id="summarize-expression-block">Summarize Expression Block</h2>
<p>The summarize expression block calculates summary statistics using R expressions. Use this block for more elaborate aggregations that require custom expressions, such as weighted means, ratios, or functions with specific parameters.</p>
<p>Enter expressions like <code>mean(mpg)</code>, <code>sum(hp)</code>, <code>dplyr::n()</code>, or more complex calculations like <code>mean(mpg, na.rm = TRUE)</code> or <code>sum(hp) / dplyr::n()</code>. The expression editor provides syntax highlighting and autocomplete (Ctrl+Space).</p>
<p>Use the “Columns to group by” selector to group data before summarizing. The “Show advanced options” section provides additional settings like the unpack option for handling functions that return data frames.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/summarize-expr-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Summarize expression block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="join-block" class="level2">
<h2 class="anchored" data-anchor-id="join-block">Join Block</h2>
<p>The join block combines two datasets based on matching values in specified columns. Select from six join types that determine which rows are kept in the result.</p>
<p>Join types: left_join keeps all rows from the left dataset and matching rows from the right; right_join keeps all rows from the right dataset and matching rows from the left; inner_join keeps only rows that match in both datasets; full_join keeps all rows from both datasets; semi_join filters the left dataset to rows that have a match in the right; anti_join filters the left dataset to rows that do not have a match in the right.</p>
<p>The “Custom Column Mappings” interface supports both same-name joins (when columns have identical names) and different-name joins (when the matching columns have different names in each dataset). Add multiple join keys to match on multiple columns simultaneously. Enable “Use natural join” to automatically join on all common columns.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/join-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Join block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="bind-rows-block" class="level2">
<h2 class="anchored" data-anchor-id="bind-rows-block">Bind Rows Block</h2>
<p>The bind rows block stacks datasets vertically by matching column names. Rows from each input dataset are combined into a single output dataset.</p>
<p>Columns are matched by name. If datasets have different columns, the result includes all columns from all datasets. Missing columns are filled with NA values. The order of columns in the output follows the order they appear across all input datasets.</p>
<p>The “Show advanced options” section provides the id_name option which adds an identifier column that tracks which source dataset each row came from. This is useful when combining data from multiple sources and you need to maintain provenance.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/bind-rows-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Bind rows block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="bind-columns-block" class="level2">
<h2 class="anchored" data-anchor-id="bind-columns-block">Bind Columns Block</h2>
<p>The bind columns block combines datasets side-by-side horizontally. Columns from each input dataset are placed next to each other in the output.</p>
<p>All input datasets must have exactly the same number of rows. The rows are combined by position: the first row from each dataset forms the first row of the output, the second rows form the second row of the output, and so on.</p>
<p>If datasets have columns with the same name, they are automatically renamed with numeric suffixes (e.g., “Sepal.Length…1”, “Sepal.Length…6”) to avoid conflicts.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/bind-cols-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Bind columns block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="tidyr-blocks" class="level1">
<h1>tidyr Blocks</h1>
<p>The following blocks provide reshaping operations from the tidyr package.</p>
<hr>
<section id="pivot-longer-block" class="level2">
<h2 class="anchored" data-anchor-id="pivot-longer-block">Pivot Longer Block</h2>
<p>The pivot longer block reshapes data from wide to long format using <a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">tidyr::pivot_longer()</a>. Use this when column names represent values of a variable rather than variables themselves.</p>
<p>Select which columns to pivot. These columns are transformed into two new columns: one containing the original column names (names_to parameter, default “name”) and another containing the values (values_to parameter, default “value”). Unselected columns remain as identifiers.</p>
<p>The “Show advanced options” section provides names_prefix (removes common prefixes from column names) and values_drop_na (removes rows where the value is NA). This is useful for reshaping time series data, survey responses, or preparing data for visualization.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/pivot-longer-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Pivot longer block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="pivot-wider-block" class="level2">
<h2 class="anchored" data-anchor-id="pivot-wider-block">Pivot Wider Block</h2>
<p>The pivot wider block reshapes data from long to wide format using <a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">tidyr::pivot_wider()</a>. This is the inverse of pivot longer, creating a summary table where row-column combinations become cells.</p>
<p>Select which column contains values for new column names (names_from) and which column contains cell values (values_from). The id_cols parameter specifies which columns identify each row. If empty, all columns not in names_from or values_from are used as identifiers.</p>
<p>The “Show advanced options” section provides names_prefix (adds a prefix to new column names) and values_fill (provides a value for missing combinations). This is useful for creating crosstabs, pivot tables, or comparing values across categories.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/pivot-wider-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Pivot wider block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="separate-block" class="level2">
<h2 class="anchored" data-anchor-id="separate-block">Separate Block</h2>
<p>The separate block splits a single column into multiple columns using <a href="https://tidyr.tidyverse.org/reference/separate.html">tidyr::separate()</a>. Use this when a column contains combined values that should be in separate columns.</p>
<p>Select the column to separate and specify the names for the new columns (comma-separated). Enter the separator character or regular expression that divides the values.</p>
<p>The “Show advanced options” section provides remove (whether to remove the input column), convert (whether to convert new columns to appropriate types), and extra/fill options for handling rows with too many or too few pieces.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/separate-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Separate block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="unite-block" class="level2">
<h2 class="anchored" data-anchor-id="unite-block">Unite Block</h2>
<p>The unite block combines multiple columns into a single column using <a href="https://tidyr.tidyverse.org/reference/unite.html">tidyr::unite()</a>. This is the inverse of separate, joining values with a separator.</p>
<p>Select the columns to unite and specify the name for the new combined column. Enter the separator character to place between values (default is “_“).</p>
<p>The “Show advanced options” section provides the remove option (whether to remove the input columns after uniting) and na.rm (whether to remove NA values before uniting).</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/BristolMyersSquibb/blockr.dplyr/main/man/figures/unite-block.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Unite block interface</figcaption>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="building-data-pipelines" class="level2">
<h2 class="anchored" data-anchor-id="building-data-pipelines">Building Data Pipelines</h2>
<p>Blocks work together in pipelines. The output from one block becomes the input to the next. Each block shows a preview of the data at that stage.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Built with <a href="https://quarto.org/">Quarto</a> | <a href="https://github.com/BristolMyersSquibb/blockr/issues">Report an issue</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>